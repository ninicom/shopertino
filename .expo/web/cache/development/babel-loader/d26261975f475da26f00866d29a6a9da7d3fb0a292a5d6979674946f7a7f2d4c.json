{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LoginScreen = function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loginSuccess = _useState8[0],\n    setLoginSuccess = _useState8[1];\n  useEffect(function () {\n    setUsername('');\n    setPassword('');\n    setErrorMessage('');\n    setLoginSuccess(false);\n  }, []);\n  var handleLogin = function handleLogin() {\n    if (username === '' || password === '') {\n      setErrorMessage('Please enter both username and password.');\n      setLoginSuccess(false);\n    } else {\n      AsyncStorage.getItem('username').then(function (storedUsername) {\n        if (username === storedUsername) {\n          AsyncStorage.getItem('password').then(function (storedPassword) {\n            if (password === storedPassword) {\n              setLoginSuccess(true);\n              setTimeout(function () {\n                navigation.navigate('HomeScreen');\n              }, 3000);\n            } else {\n              setErrorMessage('Invalid password. Please try again.');\n              setLoginSuccess(false);\n            }\n          }).catch(function (error) {\n            console.error('Error getting password:', error);\n            setErrorMessage('An error occurred. Please try again.');\n            setLoginSuccess(false);\n          });\n        } else {\n          setErrorMessage('Invalid username. Please try again.');\n          setLoginSuccess(false);\n        }\n      }).catch(function (error) {\n        console.error('Error getting username:', error);\n        setErrorMessage('An error occurred. Please try again.');\n        setLoginSuccess(false);\n      });\n    }\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      barStyle: \"dark-content\"\n    }), _jsxs(ScrollView, {\n      contentContainerStyle: styles.scrollContainer,\n      children: [_jsx(View, {\n        style: styles.inputContainer,\n        children: _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"Username\",\n          value: username,\n          onChangeText: function onChangeText(text) {\n            return setUsername(text);\n          }\n        })\n      }), _jsx(View, {\n        style: styles.inputContainer,\n        children: _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"Password\",\n          secureTextEntry: true,\n          value: password,\n          onChangeText: function onChangeText(text) {\n            return setPassword(text);\n          }\n        })\n      }), _jsx(View, {\n        style: styles.buttonContainer,\n        children: _jsx(Button, {\n          title: \"Login\",\n          onPress: handleLogin\n        })\n      }), loginSuccess ? _jsx(Text, {\n        style: [styles.successMessage, styles.overlayMessage],\n        children: \"Login Successful!\"\n      }) : null, errorMessage && !loginSuccess ? _jsx(Text, {\n        style: [styles.errorMessage, styles.overlayMessage],\n        children: errorMessage\n      }) : null]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'lightgray'\n  },\n  scrollContainer: {\n    flexGrow: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 16\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 16,\n    width: '70%'\n  },\n  input: {\n    flex: 1,\n    height: 40,\n    backgroundColor: 'white',\n    borderRadius: 20,\n    paddingHorizontal: 16\n  },\n  buttonContainer: {\n    backgroundColor: '#0099cc',\n    width: '70%',\n    marginBottom: 16,\n    borderRadius: 20,\n    overflow: 'hidden'\n  },\n  errorMessage: {\n    color: 'red',\n    marginTop: 10\n  },\n  successMessage: {\n    color: 'green',\n    marginTop: 10\n  },\n  overlayMessage: {\n    zIndex: 1\n  }\n});\nexport default LoginScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","TextInput","Button","StyleSheet","SafeAreaView","ScrollView","StatusBar","AsyncStorage","jsx","_jsx","jsxs","_jsxs","LoginScreen","_ref","navigation","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","_useState7","_useState8","loginSuccess","setLoginSuccess","handleLogin","getItem","then","storedUsername","storedPassword","setTimeout","navigate","catch","error","console","style","styles","container","children","barStyle","contentContainerStyle","scrollContainer","inputContainer","input","placeholder","value","onChangeText","text","secureTextEntry","buttonContainer","title","onPress","successMessage","overlayMessage","create","flex","backgroundColor","flexGrow","justifyContent","alignItems","padding","flexDirection","marginBottom","width","height","borderRadius","paddingHorizontal","overflow","color","marginTop","zIndex"],"sources":["T:/DangTienQuyen_mobile/Screens/LoginScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  Button,\r\n  StyleSheet,\r\n  SafeAreaView,\r\n  ScrollView,\r\n  StatusBar,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst LoginScreen = ({ navigation }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [loginSuccess, setLoginSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Clear the initial values of username and password when the component mounts\r\n    setUsername('');\r\n    setPassword('');\r\n    setErrorMessage('');\r\n    setLoginSuccess(false);\r\n  }, []);\r\n\r\n  const handleLogin = () => {\r\n    if (username === '' || password === '') {\r\n      setErrorMessage('Please enter both username and password.');\r\n      setLoginSuccess(false);\r\n    } else {\r\n      // Check if credentials match the ones stored in AsyncStorage\r\n      AsyncStorage.getItem('username')\r\n        .then((storedUsername) => {\r\n          if (username === storedUsername) {\r\n            AsyncStorage.getItem('password')\r\n              .then((storedPassword) => {\r\n                if (password === storedPassword) {\r\n                  setLoginSuccess(true);\r\n                  // Delay navigation to the success screen by 3 seconds\r\n                  setTimeout(() => {\r\n                    navigation.navigate('HomeScreen');\r\n                  }, 3000);\r\n                } else {\r\n                  setErrorMessage('Invalid password. Please try again.');\r\n                  setLoginSuccess(false);\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.error('Error getting password:', error);\r\n                setErrorMessage('An error occurred. Please try again.');\r\n                setLoginSuccess(false);\r\n              });\r\n          } else {\r\n            setErrorMessage('Invalid username. Please try again.');\r\n            setLoginSuccess(false);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error getting username:', error);\r\n          setErrorMessage('An error occurred. Please try again.');\r\n          setLoginSuccess(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <StatusBar barStyle=\"dark-content\" />\r\n      <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n        <View style={styles.inputContainer}>\r\n          <TextInput\r\n            style={styles.input}\r\n            placeholder=\"Username\"\r\n            value={username}\r\n            onChangeText={(text) => setUsername(text)}\r\n          />\r\n        </View>\r\n        <View style={styles.inputContainer}>\r\n          <TextInput\r\n            style={styles.input}\r\n            placeholder=\"Password\"\r\n            secureTextEntry\r\n            value={password}\r\n            onChangeText={(text) => setPassword(text)}\r\n          />\r\n        </View>\r\n        <View style={styles.buttonContainer}>\r\n          <Button title=\"Login\" onPress={handleLogin} />\r\n        </View>\r\n        {loginSuccess ? (\r\n          <Text style={[styles.successMessage, styles.overlayMessage]}>\r\n            Login Successful!\r\n          </Text>\r\n        ) : null}\r\n        {errorMessage && !loginSuccess ? (\r\n          <Text style={[styles.errorMessage, styles.overlayMessage]}>\r\n            {errorMessage}\r\n          </Text>\r\n        ) : null}\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: 'lightgray',\r\n  },\r\n  scrollContainer: {\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 16,\r\n  },\r\n  inputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 16,\r\n    width: '70%',\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    height: 40,\r\n    backgroundColor: 'white',\r\n    borderRadius: 20,\r\n    paddingHorizontal: 16,\r\n  },\r\n  buttonContainer: {\r\n    backgroundColor: '#0099cc',\r\n    width: '70%',\r\n    marginBottom: 16,\r\n    borderRadius: 20,\r\n    overflow: 'hidden',\r\n  },\r\n  errorMessage: {\r\n    color: 'red',\r\n    marginTop: 10,\r\n  },\r\n  successMessage: {\r\n    color: 'green',\r\n    marginTop: 10,\r\n  },\r\n  overlayMessage: {\r\n    zIndex: 1,\r\n  },\r\n});\r\n\r\nexport default LoginScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}